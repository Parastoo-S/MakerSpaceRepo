<% provide(:title, "Sign Up") %>
<section id="signup">
  <div class="signup-breadcrumb">
     <div id="create-account">

         Create Account<br>Créer le Compte

     </div>
  </div>
  <div class="signup-title">Create your personal account<br>Créer le Compte Personel</div>

  <%= form_for @new_user do |f| %>

    <div id= "required2"><p id = "required_label">Required fields</p></div>

    <div id = "required" ><%= f.label :name , "Full Name/Nom" %></div>
    <%= content_tag :span, @new_user.errors[:name][0], class: 'form-error' %>
    <%= content_tag :span, @new_user.errors[:name][1], class: 'form-error',
        style: 'display: block;' if @new_user.errors[:name][1] %>
    <%= f.text_field :name, autofocus: true %>

    <div id = "required" ><%= f.label :username, "Username/Nom d'Utilisateur" %></div>

    <%= content_tag :span, @new_user.errors[:username][0], class: 'form-error' %>
    <%= content_tag :span, @new_user.errors[:username][1], class: 'form-error',
        style: 'display: block;' if @new_user.errors[:username][1] %>
    <%= f.text_field :username, autofocus: true %>

    <div id = "required" ><%= f.label :email , "Email/Adresse Courriel" %></div>
    <%= content_tag :span, @new_user.errors[:email].first, class: 'form-error' %>
    <%= f.email_field :email %>

    <div id = "required" ><%= f.label :password ,"Password/Mot de passo" %></div>
    <%= content_tag :span, @new_user.errors[:password][0], class: 'form-error' %>
    <%= content_tag :span, @new_user.errors[:password][1], class: 'form-error',
        style: 'display: block;' if @new_user.errors[:password][1] %>
    <u>Use at least one uppercase letter, one lowercase letter,
      one number and be eight characters long.<br> Utilisez au moins une lettre majuscule, une lettre minuscule, un chiffre et il doit être huit caractères de long.</u>
    <%= f.password_field :password %>

    <div id = "required" ><%= f.label :password_confirmation, "Password Confirmation/ Confirmation de Mot de Passe" %></div>
    <%= content_tag :span, @new_user.errors[:password_confirmation][0], class: 'form-error' %>
    <%= content_tag :span, @new_user.errors[:password][1], class: 'form-error',
        style: 'display: block;' if @new_user.errors[:password][1] %>
    <%= f.password_field :password_confirmation %>

    <div id = "required" ><%= f.label :gender %></div>
    <%= content_tag :span, @new_user.errors[:gender].first, class: 'form-error' %>
    <%= f.select :gender, ["Male", "Female", "Other", "Prefer not to specify"] , prompt: "Choose..." %><br><br>

    <div id = "required" ><%= f.label :identity, "I am a ..." %></div>

    <%= f.radio_button(:identity, "grad", :class => "show_extra",:style => "display:inline", :onclick => "showField();") %><%= f.label(:identity_student, "Grad")  %><br>
    <%= f.radio_button(:identity, "undergrad", :class => "show_extra",:style => "display:inline", :onclick => "showField();") %><%= f.label(:identity_student, "Undergrad")  %><br>
    <%= f.radio_button(:identity, "faculty_member", :class => "show_extra",:style => "display:inline",:onclick => "hideField();") %><%= f.label(:identity_other, "Faculty Member") %><br>
    <%= f.radio_button(:identity, "community_member", :class => "show_extra",:style => "display:inline",:onclick => "hideField();") %><%= f.label(:identity_other, "Community Member") %><br>

<section id="hidden" style="display: none;">
    <div id= "required2"><p id = "required_label">Students only</p></div>


    <div id = "required" ><%= f.label :student_id , "Student Number" %></div>
    <%= content_tag :span, @new_user.errors[:student_id].first, class: 'form-error' %>
    <%= f.text_field :student_id, autofocus: true %>

    <div id = "required" ><%= f.label :faculty , "Faculty"%></div>
    <%= content_tag :span, @new_user.errors[:faculty].first, class: 'form-error' %>
    <%= f.select :faculty, ["Arts","Civil Law", "Common Law", "Education","Engineering", "Health Sciences","Medicine","Science",
      " Social Sciences","Telfer school of Management"] , prompt: "Choose..." %><br><br>

    <% programs = ProgramList.fetch_all %>
    <div id = "required" ><%= f.label :program, "Program" %></div>
    <%= content_tag :span, @new_user.errors[:program].first, class: 'form-error' %>
    <%= f.select(:program, programs , {prompt: "Choose..."} , {:class => "programs", :id => "options"}) %><br><br>

    <div id = "required" ><%= f.label :year_of_study, "What year are you in?", style: 'margin-bottom: 0.5rem; display: inline;' %></div>
    <%= content_tag :span, @new_user.errors[:year_of_study].first, class: 'form-error' %>
    <%= f.select :year_of_study, ["1", "2", "3","4","5"] , prompt: "Select a year ..." %><br><br>
</section>
  <br>
    <%= f.label :use, "What do you plan on using MakerRepo for?", style: 'margin-bottom: 0.5rem; display: block;' %>
    <%= f.select :use, ["Course", "Personal Project", "Business", "Other"] , prompt: "Select a use case..." %>

    <%= content_tag :span, text_area_tag(:use), class: 'other' %>
    <br><br>
    <%= f.label :how_heard_about_us, "How did you hear about us? (optional)" %>
    <%= f.text_area :how_heard_about_us, class: "profile-text" %>

    <br><br>

    <div><div id="read_and_accepted_waiver_form" style="font-weight:bold;" > <%= "I agree to this waiver:"%></div>
      <label style="font-size:0.7em">
        scroll down and click <span id = "required" style="font-weight:bold;">I Agree</span>
      </label><br></br>
      <div class="waiver-form-outer">
        <div class="waiver-form-inner">
          <b>
            PLEASE READ CAREFULLY!
          <br><br>
            RELEASE OF LIABILITY, WAIVER OF CLAIMS, ASSUMPTION OF RISKS AND INDEMNITY AGREEMENT (hereinafter referred to as the “Release Agreement”).
          </b>
        </br><br>
          BY SIGNING THIS AGREEMENT YOU WILL WAIVE CERTAIN LEGAL RIGHTS, INCLUDING THE RIGHT TO SUE OR CLAIM COMPENSATION FOLLOWING AN ACCIDENT
        </br><br>

          The Participant freely accepts and fully assumes all such risks, dangers, and hazards and the possibility of personal and bodily injury, death, property damage, or loss resulting from such risks, dangers and hazards.  The risks, dangers, and hazards may include but are not limited to:<br>
          •	Physical Activity<br>
          •	Theft of Personal Items<br>
          •	Exposure to hazardous substances (chemicals)<br>
          •	Laboratory risks<br>
          •	Physical or mechanical hazards<br>
          •	Lab equipment<br>
          •	Personal safety during all aspects of the Activity<br>
        </br>

          The Participant acknowledges and further accepts the responsibility of discussing their participation in the Activity with their physician and obtaining adequate insurance that may apply; the Participant is aware that the University of Ottawa does not carry accident or medical or dental insurance on their behalf.  By signing this document, the Participant:<br>
          •	Agrees to freely accept such risks, dangers and hazards inherent in undertaking the Activity.<br>
          •	Understands that Participants are not covered by the Workplace Safety and Insurance Board for injuries arising as a result of the Activity.<br>
          •	Agrees that it is the responsibility of the Participant to familiarise themselves with health and safety requirements applicable to the Activity and to discontinue any Activity that is unsafe immediately.<br>
          •	Agrees to participate in any hazard awareness training that may be offered and commits to meet personal protection requirements, to follow directives provided by Activity leaders, and to respect emergency situation guidelines.<br>
          •	Agrees to follow University procedures, and to report any Activity-related incidents witnessed, on or off University property while participating in the Activity.<br>
          •	Agrees not to undertake any procedure, process, activity that was not discussed or reviewed with the Activity supervisor without first obtaining training, instruction, and/or supervision by the designated competent supervisor.<br>
          •	Understands and fully accepts that if the Participant chooses to participate in any other activity that is not part of the planned Activity, that they are fully responsible for the consequences of their conduct.<br>
          •	Understands and fully accepts that if the Participant fails to observe any conditions or rules established during the course of the Activity, that the Participant may be asked to leave.<br>
          </br>

          <b>I AGREE TO WAIVE ANY AND ALL CLAIMS</b> that I have or may in the future have against the University of Ottawa, its respective Board of Governors, officers, directors, employees, agents, independent contractors, subcontractors, representatives, successors and assigns, and all instructors, coaches, managers, volunteers, sponsors, officials and officers in any way involved or connected with the Activity (herein after collectively referred to as the Releasees) arising out of my participation in the Activities and <b>TO RELEASE THE RELEASEES</b> from any and all liability for any loss, damage, expense or injury including death that I may suffer or that my next of kin may suffer during my participation in the Activity,
          DUE TO ANY CAUSE WHATSOEVER, INCLUDING NEGLIGENCE, BREACH OF CONTRACT, OR BREACH OF ANY STATUTORY OR OTHER DUTY OF CARE, INCLUDING ANY DUTY OF CARE OWED UNDER THE <b>OCCUPIERS LIABILITY ACT</b>, ON THE PART OF THE RELEASEES AND ALSO INCLUDING THE FAILURE ON THE PART OF THE RELEASEES TO SAFEGUARD OR PROTECT ME FROM THE RISKS, DANGERS AND HAZARDS OF THE ACTIVITY REFERRED TO ABOVE.
          Upon the University’s request, I AGREE to leave the Activity should I fail to follow the University’s instructions or directions.
          </br><br>
          <b>I HAVE BEEN GIVEN THE OPPORTUNITY AND HAVE BEEN ENCOURAGED TO SEEK INDEPENDENT LEGAL ADVICE PRIOR TO SIGNING THIS AGREEMENT.</b>

            <br>
         <span id = "required" style="float:right;padding-right:5px;font-weight:bold;">I Agree</span>
        <%= f.check_box :read_and_accepted_waiver_form, :style => "float:right;", :onclick => "showCreateButton()" %>
        <%= content_tag :span, @new_user.errors[:read_and_accepted_waiver_form].first, class: 'form-error' %>
        </div>
      </div>
    </div>
    <br>
    <span id='fake-signup-button'> Create Account/Créer mon Compte </span>
    <span id='signup-button'>
      <%= f.submit "Create Account/Créer mon Compte", class: 'signup-button' %>
      <% if flash[:notice] %>
        <div id="notice"><%flash[:notice] %></div>
      <% end %>
    </span>

  <% end %>

</section>
